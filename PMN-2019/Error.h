#pragma once
#define ERROR_THROW(id) Error::geterror(id);
#define ERROR_THROW_IN(id,l,c) Error::geterrorin(id,l,c);
// Элемент таблицы ошибок
#define ERROR_ENTRY(id, m) {id,m,{-1,-1}}
// Максимальная длина сообщения об ошибке
#define ERROR_MAXSIZE_MESSAGE 200
// 1 неопределенный элемент таблицы ошибок
#define ERROR_ENTRY_NODEF(id) ERROR_ENTRY(-id,"Неопределенная ошибка") 
// ERROR_ENTRY_NODEF10(id) - 10 неопределенных элементов таблицы ошибок
#define ERROR_ENTRY_NODEF10(id) ERROR_ENTRY_NODEF(id+0),ERROR_ENTRY_NODEF(id+1),ERROR_ENTRY_NODEF(id+2),ERROR_ENTRY_NODEF(id+3),\
								ERROR_ENTRY_NODEF(id+4),ERROR_ENTRY_NODEF(id+5),ERROR_ENTRY_NODEF(id+6),ERROR_ENTRY_NODEF(id+7),\
								ERROR_ENTRY_NODEF(id+8),ERROR_ENTRY_NODEF(id+9)
// ERROR_ENTRY_NODEF10(id) - 100 неопределенных элементов таблицы ошибок
#define ERROR_ENTRY_NODEF100(id) ERROR_ENTRY_NODEF10(id+0),ERROR_ENTRY_NODEF10(id+10),ERROR_ENTRY_NODEF10(id+20),ERROR_ENTRY_NODEF10(id+30),\
								ERROR_ENTRY_NODEF10(id+40),ERROR_ENTRY_NODEF10(id+50),ERROR_ENTRY_NODEF10(id+60),ERROR_ENTRY_NODEF10(id+70),\
								ERROR_ENTRY_NODEF10(id+80),ERROR_ENTRY_NODEF10(id+90)
// Количество элементов в таблице ошибок
#define ERROR_MAX_ENTRY 1000							

namespace Error
{
	struct ERROR										// Тип исключения
	{
		int id;											// Код ошибки
		char message[ERROR_MAXSIZE_MESSAGE];			// Сообщение об ошибке
		struct IN										// Расширение для ошибок при обработке входных данных
		{
			short line;									// Номер строки
			short col;									// Номер позиции в сроке
		}inext;
	};

	// Ф-ция формирования ERROR для ERROR_THROW
	ERROR geterror(int id);
	// Ф-ция формирования ERROR для ERROR_THROW_IN
	ERROR geterrorin(int id, int line, int col);
};
